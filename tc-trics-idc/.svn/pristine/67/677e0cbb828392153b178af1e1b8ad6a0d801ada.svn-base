<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mosaddek">
    <meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <link rel="shortcut icon" href="img/favicon.html">

    <title>江苏有线三网融合扭曲中心数据中心-设备线缆管理系统</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-reset.css" rel="stylesheet">
    <!--external css-->
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="assets/jquery-easy-pie-chart/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/owl.carousel.css" type="text/css">
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/style-responsive.css" rel="stylesheet" />

    <style>

        .gdt{ border: 1px solid #3023AE;padding: 10px;overflow-y: scroll;width: 100%;height: 100%}
        .gdt::-webkit-scrollbar{width:4px;}
        .gdt::-webkit-scrollbar-track{background-color:rgba(255,255,255,0);border-radius: 10px;}
        .gdt::-webkit-scrollbar-thumb{background-color:#3023AE;border-radius: 10px;}
        .gdt::-webkit-scrollbar-thumb:hover {background-color:#5FE3FF}
        .gdt::-webkit-scrollbar-thumb:active {background-color:#00aff0}
    </style>
<!--    <link th:href="@{/3rd/webgl/css/page.css}" rel="stylesheet">-->


<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/three.min.js}"></script>-->
<!--    &lt;!&ndash;<script type="text/javascript" src="js/jquery-2.1.0.js"></script>&ndash;&gt;-->
<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/D.min.js}"></script>-->
<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/doT.min.js}"></script>-->
<!--    &lt;!&ndash;<script type="text/javascript" src="js/photo-sphere-viewer.min.js"></script>&ndash;&gt;-->
<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/WebGL.js}"></script>-->
<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/OrbitControls.js}"></script>-->
<!--    <script type="text/javascript" th:src="@{/3rd/webgl/js/stats.min.js}"></script>-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
    <!--[if lt IE 9]> -->

    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
</head>

<body class="gdt">

<section id="container" class="" style="height: 100%">
    <!--header start-->
    <header class="header white-bg">
        <a href="#" class="logo" style="display: flex;width: 180px;justify-content: center">
            <img th:src="@{img/indexlogo.png}"  style="height: 32px">
        </a>
        <div class="sidebar-toggle-box">
            <div data-original-title="Toggle Navigation" data-placement="right" class="icon-reorder tooltips" style="color: #BCBFF6;font-size: 20px;position: relative;left: 20px"></div>
        </div>


        <div class="top-nav ">
            <ul class="nav pull-right top-menu">
                <li class="icon">
                    <i class="i"></i>
                </li>
                <li class="icon">
                    <i class="shuaxin"></i>
                </li>
                <li class="icon">
                    <i class="lingdang"></i>
                </li>
                <li>
                    <i class="zhongxin"></i>
                </li>
                <li class="dropdown">
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <span class="username"></span>
<!--                        <b class="carets"></b>-->
                    </a>
                    <ul class="dropdown-menu extended logout">
                        <i class="icon-caret-up" style="color: #414B8E;position: absolute;left: 60px;top: -16px;font-size: 24px;"></i>
                        <li><a href="">个人中心</a></li>
                        <li><a href="login">退出</a></li>
                    </ul>
                </li>
                <!-- user login dropdown end -->
            </ul>

        </div>
    </header>
    <!--header end-->

    <!--sidebar start-->
    <aside>
        <div id="sidebar" class="nav-collapse gdt" style="">
            <!-- sidebar menu start-->
            <ul class="sidebar-menu" style="display:block;">
            </ul>
            <!-- sidebar menu end-->
        </div>
    </aside>
    <!--sidebar end-->
    <!--main content start-->
    <section id="main-content" style="height: calc(100% - 60px);" >
        <section class="wrapper" style="height: 100%;">
            <iframe th:src="@{/indexContent}" id="content" class="frame_style" width="100%" height="100%" frameborder="0" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
        </section>
    </section>
    <!--main content end-->
</section>

<!-- js placed at the end of the document so the pages load faster -->
<script src="js/jquery.js"></script>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.scrollTo.min.js"></script>
<!--<script src="js/jquery.nicescroll.js" type="text/javascript"></script>-->
<script src="js/jquery.sparkline.js" type="text/javascript"></script>
<script src="assets/jquery-easy-pie-chart/jquery.easy-pie-chart.js"></script>
<script src="js/owl.carousel.js" ></script>
<script src="js/jquery.customSelect.min.js" ></script>

<!--common script for all pages-->
<script src="js/common-scripts.js"></script>



<script type="text/javascript" th:inline="javascript">
    ctxPath = /*[[@{/}]]*/ '';
</script>

<script>

    window.onload = function () {

        var username=localStorage.getItem("username")
        $('.username').text(username)

        var urls="/menu/tree";
        $(".sidebar-menu").show()
        var str='';
        $.ajax({
            url: urls,
            type: 'get',
            dataType: 'json',
            success: function (res) {
                if (res.data.length > 0) {
                    for (var i = 0; i < res.data.length; i++) {
                        if(res.data[i].title=="首页"){
                            str += '<li>' +

                                '<a href="javascript:refresh(&apos;' + res.data[i].url + '&apos;)">' +
                                '<i></i>'+
                                 '<span>'+ res.data[i].title + '</span>'+
                                '</a>' +
                                '</li>'
                            continue;
                        }

                        str += '<li class="sub-menu">' +
                            '<a class="" >' +
                            '<i></i>'+
                            '<span>' + res.data[i].title + '</span>' +
                            '<span class="arrow"></span>' +
                            '</a>' +
                            '<ul class="sub">'
                        for (var j = 0; j < res.data[i].children.length; j++) {

                            str += '<li>' +
                                '<a href="javascript:refresh(&apos;' + res.data[i].children[j].url + '&apos;)">' + res.data[i].children[j]
                                    .title +
                                '</a>' +
                                '</li>'
                        }
                        str += '</ul>' +
                            '</li>'
                    }
                    $('.sidebar-menu').append(str)
                } else {
                    console.log('链接失败');
                }

            }
        })

    }
    $('#sidebar').on("click",".sub-menu > a",function () {
        var last = jQuery('.sub-menu.open', $('#sidebar'));
        last.removeClass("open");
        jQuery('.arrow', last).removeClass("open");
        jQuery('.sub', last).slideUp(200);
        var sub = jQuery(this).next();
        if (sub.is(":visible")) {
            jQuery('.arrow', jQuery(this)).removeClass("open");
            jQuery(this).parent().removeClass("open");
            sub.slideUp(200);
        } else {
            jQuery('.arrow', jQuery(this)).addClass("open");
            jQuery(this).parent().addClass("open");
            sub.slideDown(200);
        }
        var o = ($(this).offset());
        diff = 200 - o.top;
        if(diff>0)
            $("#sidebar").scrollTo("-="+Math.abs(diff),500);
        else
            $("#sidebar").scrollTo("+="+Math.abs(diff),500);
    });


    function refresh(url) {
        $("#content").attr("src",ctxPath+""+url)
    }

</script>


</body>
</html>
